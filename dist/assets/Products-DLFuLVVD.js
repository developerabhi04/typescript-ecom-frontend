import{R as u,_ as x,j as r,L as c,S as h,f}from"./index-DI8Lomad.js";import{r as n}from"./react-BbaTowL1.js";import{A as j}from"./AdminSidebar-DnWKxm2A.js";import{T as g}from"./TableHOC-BS_ZU3BZ.js";import{u as k}from"./redux-BaaShjVO.js";import"./firebase-DTxrvWAw.js";import"./index-67BwcfBo.js";import"./index-D6AXLMh1.js";const P=[{Header:"Photo",accessor:"photo"},{Header:"Name",accessor:"name"},{Header:"Price",accessor:"price"},{Header:"Stock",accessor:"stock"},{Header:"Action",accessor:"action"}],w=()=>{const{user:e}=k(s=>s.userReducer),{isLoading:d,isError:i,error:m,data:t}=u(e==null?void 0:e._id),[a,p]=n.useState([]);if(i){const s=m;x.error(s.data.message)}n.useEffect(()=>{var s;t&&p((s=t.products)==null?void 0:s.map(o=>({photo:r.jsx("img",{src:o.photos[0].url,alt:"Product"}),name:o.name,price:o.price,stock:r.jsx("span",{style:{color:o.stock===0?"red":"green"},children:o.stock}),action:r.jsx(c,{to:`/admin/product/${o._id}`,children:"Manage"})})))},[t]);const l=g(P,a,"dashboard-product-box","Products",a.length>6)();return r.jsxs("div",{className:"admin-container",children:[r.jsx(j,{}),r.jsx("main",{children:d?r.jsx(h,{length:20}):l}),r.jsx(c,{to:"/admin/products/new",className:"create-product-btn",children:r.jsx(f,{})})]})};export{w as default};

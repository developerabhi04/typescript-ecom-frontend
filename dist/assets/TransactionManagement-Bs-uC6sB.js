import{k as $,A as v,a3 as O,a4 as D,a5 as k,j as s,N as A,S as T,t as L,L as M}from"./index-DI8Lomad.js";import{A as P}from"./AdminSidebar-DnWKxm2A.js";import{u as w}from"./redux-BaaShjVO.js";import{t as E,r as o}from"./features-D8KFa1sJ.js";import"./react-BbaTowL1.js";import"./firebase-DTxrvWAw.js";import"./index-67BwcfBo.js";import"./index-D6AXLMh1.js";const F={shippingInfo:{address:"",city:"",state:"",country:"",pinCode:""},status:"",subtotal:0,discount:0,shippingCharges:0,tax:0,total:0,orderItems:[],user:{name:"",_id:""},_id:""},J=()=>{const{user:t}=w(e=>e.userReducer),d=$(),n=v(),{isLoading:a,data:r,isError:c}=O(d.id),{shippingInfo:{address:l,city:p,state:m,country:h,pinCode:u},orderItems:x,user:{name:j},status:i,tax:g,subtotal:I,total:f,discount:N,shippingCharges:S}=(r==null?void 0:r.order)||F,[y]=D(),[_]=k(),b=async()=>{const e=await y({userId:t==null?void 0:t._id,orderId:r==null?void 0:r.order._id});o(e,n,"/admin/transaction")},C=async()=>{const e=await _({userId:t==null?void 0:t._id,orderId:r==null?void 0:r.order._id});o(e,n,"/admin/transaction")};return c?s.jsx(A,{to:"/404"}):s.jsxs("div",{className:"admin-container",children:[s.jsx(P,{}),s.jsx("main",{className:"management-section",children:a?s.jsx(T,{}):s.jsxs(s.Fragment,{children:[s.jsxs("section",{style:{padding:"2rem"},children:[s.jsx("h2",{children:"Order Items"}),x.map(e=>s.jsx(H,{name:e.name,photo:e.photo,productId:e.productId,_id:e._id,quantity:e.quantity,price:e.price},e._id))]}),s.jsxs("article",{className:"shipping-info-card",children:[s.jsx("button",{className:"product-delete-btn",onClick:C,children:s.jsx(L,{})}),s.jsx("h1",{children:"Order Info"}),s.jsx("h5",{children:"User Info"}),s.jsxs("p",{children:["Name: ",j]}),s.jsxs("p",{children:["Address: ",`${l}, ${p}, ${m}, ${h}, ${u}`]}),s.jsx("h5",{children:"Amount Info"}),s.jsxs("p",{children:["Subtotal: ",I]}),s.jsxs("p",{children:["Shipping Charges: ",S]}),s.jsxs("p",{children:["Tax: ",g]}),s.jsxs("p",{children:["Discount: ",N]}),s.jsxs("p",{children:["Total: ",f]}),s.jsx("h5",{children:"Status Info"}),s.jsxs("p",{children:["Status:"," "," ",s.jsx("span",{className:i==="Delivered"||i==="Shipped"?"green":"red",children:i})]}),i!=="Delivered"&&s.jsx("button",{className:"shipping-btn",onClick:b,children:"Process Status"})]})]})})]})},H=({name:t,photo:d,price:n,quantity:a,productId:r})=>s.jsxs("div",{className:"transaction-product-card",children:[s.jsx("img",{src:E(d),alt:t}),s.jsx(M,{to:`/product/${r}`,children:t}),s.jsxs("span",{children:["$",n," X ",a," = $",n*a]})]});export{J as default};

import{A as x,Y as h,j as e}from"./index-DI8Lomad.js";import{u as j}from"./redux-BaaShjVO.js";import{A as f}from"./AdminSidebar-DnWKxm2A.js";import{r}from"./react-BbaTowL1.js";import{r as b}from"./features-D8KFa1sJ.js";import"./firebase-DTxrvWAw.js";import"./index-67BwcfBo.js";import"./index-D6AXLMh1.js";const D=()=>{const c=x(),{user:s}=j(t=>t.userReducer),[l]=h(),[u,i]=r.useState(!1),[n,d]=r.useState(""),[o,m]=r.useState(0),p=async t=>{t.preventDefault(),i(!0);try{if(!n||!o){console.log("Please enter both coupon and amount");return}const a=await l({id:(s==null?void 0:s._id)||"",code:n,amount:o});b(a,c,"/admin/discount")}catch(a){console.error(a)}finally{i(!1)}};return e.jsxs("div",{className:"admin-container",children:[e.jsx(f,{}),e.jsx("main",{className:"management-section",children:e.jsx("article",{children:e.jsxs("form",{onSubmit:p,children:[e.jsx("h2",{children:"New Coupon"}),e.jsxs("div",{children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",placeholder:"Coupon Code",value:n,onChange:t=>d(t.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{children:"Price"}),e.jsx("input",{type:"number",placeholder:"Amount",value:o,onChange:t=>m(Number(t.target.value))})]}),e.jsx("button",{disabled:u,type:"submit",children:"Create"})]})})})]})};export{D as default};

import{A as l,j as e,B as h,v as m,w as x,_ as g}from"./index-DI8Lomad.js";import{r as i}from"./react-BbaTowL1.js";import{B as y}from"./index-BcPDJ_Io.js";import{y as j,u as v}from"./redux-BaaShjVO.js";import"./firebase-DTxrvWAw.js";const q=()=>{const s=l(),c=j(),{cartItems:o,total:p}=v(a=>a.cartReducer),[t,u]=i.useState({address:"",city:"",state:"",country:"",pinCode:""}),n=a=>{u(r=>({...r,[a.target.name]:a.target.value}))},d=async a=>{a.preventDefault(),c(h(t));try{const{data:r}=await m.post(`${x}/api/v1/payment/create`,{amount:p},{headers:{"Content-Type":"application/json"}});s("/pay",{state:r.clientSecret})}catch(r){console.log(r),g.error("Something went wrong")}};return i.useEffect(()=>{if(o.length<=0)return s("/cart")},[o,s]),e.jsxs("div",{className:"shipping",children:[e.jsx("button",{className:"back-btn",onClick:()=>s("/cart"),children:e.jsx(y,{})}),e.jsxs("form",{onSubmit:d,children:[e.jsx("h1",{children:"Shipping Address"}),e.jsx("input",{required:!0,type:"text",placeholder:"Address",name:"address",value:t.address,onChange:n}),e.jsx("input",{required:!0,type:"text",placeholder:"City",name:"city",value:t.city,onChange:n}),e.jsx("input",{required:!0,type:"text",placeholder:"State",name:"state",value:t.state,onChange:n}),e.jsxs("select",{name:"country",required:!0,value:t.country,onChange:n,children:[e.jsx("option",{value:"",children:"Choose Country"}),e.jsx("option",{value:"india",children:"India"})]}),e.jsx("input",{required:!0,type:"number",placeholder:"Pin Code",name:"pinCode",value:t.pinCode,onChange:n}),e.jsx("button",{type:"submit",children:"Pay Now"})]})]})};export{q as default};
